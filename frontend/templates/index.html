<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>远程打印服务</title>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
    <div class="container">
        <!-- 头部 -->
        <header class="header">
            <h1>🖨️ 远程打印服务</h1>
            <div class="printer-status">
                <span class="status-dot" id="statusDot"></span>
                <span id="statusText">加载中...</span>
            </div>
        </header>

        <!-- 上传区域 -->
        <section class="upload-section">
            <div class="upload-area" id="uploadArea">
                <div class="upload-icon">📁</div>
                <p>拖拽文件到此处，或 <label for="fileInput" class="upload-label">点击选择文件</label></p>
                <input type="file" id="fileInput" multiple accept=".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt,.png,.jpg,.jpeg,.gif,.bmp,.html,.htm,.csv">
                <p class="upload-hint">支持 PDF, Word, Excel, PPT, 图片, 文本等格式 (最大 50MB)</p>
            </div>
            <div class="upload-progress" id="uploadProgress" style="display: none;">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <span class="progress-text" id="progressText">0%</span>
            </div>
        </section>

        <!-- 打印机选择 -->
        <section class="printer-section">
            <h2>打印机设置</h2>
            <div class="printer-info">
                <select id="printerSelect" class="printer-select">
                    <option value="">加载中...</option>
                </select>
                <div class="print-options">
                    <div class="option-group">
                        <label for="copiesInput">份数:</label>
                        <input type="number" id="copiesInput" value="1" min="1" max="100">
                    </div>
                    <div class="option-group">
                        <label for="pageRangeInput">页码范围:</label>
                        <input type="text" id="pageRangeInput" placeholder="例如: 1-5,8,11-13">
                    </div>
                </div>
            </div>
        </section>

        <!-- 文件列表 -->
        <section class="files-section">
            <div class="section-header">
                <h2>📂 文件列表</h2>
                <button class="btn btn-secondary" id="refreshFilesBtn">刷新</button>
            </div>
            <div class="files-grid" id="filesGrid">
                <div class="empty-state" id="emptyState">
                    <p>暂无文件，请上传文件</p>
                </div>
            </div>
        </section>

        <!-- 打印队列 -->
        <section class="jobs-section">
            <div class="section-header">
                <h2>📋 打印队列</h2>
                <button class="btn btn-secondary" id="refreshJobsBtn">刷新</button>
            </div>
            <div class="jobs-list" id="jobsList">
                <div class="empty-state">
                    <p>暂无打印任务</p>
                </div>
            </div>
        </section>
    </div>

    <!-- 预览模态框 -->
    <div class="modal" id="previewModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="previewTitle">文件预览</h3>
                <button class="modal-close" id="closePreview">&times;</button>
            </div>
            <div class="modal-body">
                <img id="previewImage" src="" alt="预览">
                <div id="previewPlaceholder" class="preview-placeholder">
                    <p>暂无预览</p>
                </div>
            </div>
            <div class="modal-footer">
                <div class="preview-actions">
                    <button class="btn btn-primary" id="printFromPreview">🖨️ 打印此文件</button>
                    <button class="btn btn-danger" id="deleteFromPreview">🗑️ 删除</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 通知容器 -->
    <div class="notifications" id="notifications"></div>

    <script src="/static/js/app.js"></script>
</body>
</html>
